<!-- Chatlogs header (containing chat identifiers and buttons) -->
<div class="chat-title" *ngIf="conversationId !== '0'">
  <mat-icon fontIcon="arrow_back_ios" class = "return-btn showMobile" (click)="mobileReturnToChatOptionsBtn()"></mat-icon>
  <h3 class = "usernames">
    <!-- <b>CHAT WITH: </b> -->
    {{userIds}}
  </h3>

  <div>
    <button mat-raised-button  class = "add-user-btn"
        (click)="openAddUserToConvDialog()"
    >
        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="add"></mat-icon>
        Add User
    </button>

    <button mat-raised-button class = "leave-btn"
        (click)="openExitConvDialog()"
    >
        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="exit_to_app"></mat-icon>
        Leave   
    </button>
    <!-- <button mat-raised-button class = "return-btn showMobile" (click)="mobileReturnToChatOptionsBtn()">
      <mat-icon fontIcon="arrow_back_ios"></mat-icon>
    </button> -->


    <!-- more_horiz -->
  </div>
</div>

<!-- Messages: -->
<div class="chatlogs" *ngIf="conversationId !== '0'">
  <div #messageContainer class="logs" (scroll)="onScroll($event)">
    <p *ngIf="pendingUsers.toString() != ''"> Pending Invite: {{pendingUsers.toString()}}</p>
    <app-chat-message *ngFor="let message of messages" 
      [message]="message"
      [messageStatus]="message.messageStatus"
      >
    </app-chat-message>
    <p *ngIf = "errorMessage != '' " style = "text-align: center;width:100%;color:firebrick;padding:0px;">{{errorMessage}}</p>
  </div>
<!--[disabled]="!this.socket.connected"-->
  <form [formGroup]="messageForm" class="chatInput" (keyup.enter)="handleMessage(false)">
    <textarea class="input" id="message" formControlName="message"></textarea>
    <button class="submit" type="button" (click)="handleMessage(false)"
      
    >
      Send
    </button>

    <button class="submit ai" 
      (click)="handleMessage(true)"
    >
      AI
    </button>
  </form>
</div>

<!-- Intro screen: -->
<div class="chatlogs" *ngIf="conversationId === '0'">
  <p class = "welcome-message">- Welcome! Please choose a conversation from the left -</p>
 
</div>